# 体验中心(Playground)需求文档

> 版本：1.0  
> 更新日期：2025-12-30

---

## 1. 页面概述

体验中心是一个综合性的语音AI功能演示平台，包含三大核心功能模块：
- **文本转语音(TTS)**：将文本转换为自然流畅的语音
- **语音复刻(Voice Clone)**：录制用户声音并克隆生成新音频
- **语音编辑(Voice Edit)**：对语音进行精细化的风格编辑

页面路由：`/playground`

---

## 2. 页面整体布局

### 2.1 导航栏
- 固定在页面顶部
- 包含：Logo、导航链接（首页、文档中心、体验中心、繁星计划、官网）、用户中心

### 2.2 左侧边栏
- 固定宽度 224px
- 顶部显示 "Playground" 标题
- 三个功能Tab按钮垂直排列
- 底部显示"联系我们"按钮

### 2.3 主内容区
- 根据当前激活的Tab显示对应功能模块
- TTS模式下右侧有参数配置面板

### 2.4 底部播放器栏
- 固定在页面底部
- 仅在有音频生成时显示
- 语音编辑模式下，播放器上方显示句子时间轴

---

## 3. 功能模块一：文本转语音(TTS)

### 3.1 功能概述
用户可以选择预设案例或自定义输入文本，选择音色和参数后生成语音。

### 3.2 交互流程

#### 3.2.1 选择预设案例
**触发方式**：点击案例卡片

**交互细节**：
1. 页面展示6个预设案例卡片：新闻播报、有声读物、客服助手、广告配音、教育朗读、情感电台
2. 每个卡片显示：图标、标题、描述、示例文本
3. 点击卡片后：
   - 文本输入框自动填充该案例的预设文本
   - 音频标题更新为案例标题
   - 清空之前生成的音频

#### 3.2.2 自定义输入文本
**触发方式**：在文本输入框中直接输入

**交互细节**：
1. 文本输入框支持最多10,000字符
2. 右下角实时显示字符计数 `xxx/10000`
3. 超过限制时自动截断
4. 输入框右上角显示"清空"按钮
5. 点击清空按钮：
   - 清空文本内容
   - 取消正在进行的音频生成
   - 隐藏底部播放器栏

#### 3.2.3 配置音色参数
**位置**：右侧参数面板

**可配置项**：
1. **音色选择**（下拉菜单）
   - 系统音色分组：清纯少女、甜美女声、磁性男声、稳重男声
   - 我的音色分组：用户保存的自定义音色
   - 悬浮显示音色试听播放按钮

2. **语速调节**（滑动条）
   - 范围：0.5x - 2.0x
   - 默认值：1.0x
   - 滑动时实时显示当前数值

3. **音量调节**（滑动条）
   - 范围：0% - 100%
   - 默认值：100%
   - 滑动时实时显示当前数值

4. **输出格式**（下拉菜单）
   - 可选：mp3、wav、ogg
   - 默认：mp3

#### 3.2.4 生成音频
**触发方式**：点击"生成音频"按钮

**前置条件**：
- 文本输入框不为空

**交互细节**：
1. 按钮状态变化：
   - 默认状态："生成音频" + 图标
   - 生成中：显示加载动画 + "生成中..."
   - 按钮禁用，防止重复点击

2. 生成过程：
   - 如果有正在进行的生成请求，先取消前一个
   - 显示加载状态
   - 生成失败时显示错误提示（额度用完、网络错误等）

3. 生成完成：
   - 底部播放器栏自动显示
   - 播放器显示音频标题和音色名称
   - 音频自动准备就绪，等待用户播放

#### 3.2.5 音频播放控制
**位置**：底部播放器栏

**交互细节**：
1. **播放/暂停**：
   - 点击中央播放按钮开始播放
   - 播放中按钮变为暂停图标
   - 再次点击暂停播放

2. **进度控制**：
   - 显示当前时间/总时长
   - 点击进度条任意位置可跳转
   - 快退/快进按钮（±10秒）

3. **下载**：点击下载按钮保存音频文件

4. **关闭**：点击收起按钮隐藏播放器栏

---

## 4. 功能模块二：语音复刻(Voice Clone)

### 4.1 功能概述
用户录制自己的声音样本，系统克隆其音色并生成指定文本的语音。

### 4.2 交互流程

#### 4.2.1 Step 1：录制音频

**初始状态**：
- 显示录制引导区域
- 展示随机预设文本供用户朗读
- 显示"换一个"按钮可切换文本

**开始录制**：
1. 点击"开始录制"按钮
2. 浏览器请求麦克风权限
   - 权限拒绝：显示错误提示
   - 权限允许：开始录制
3. 进入录制状态：
   - 显示倒计时（10秒）
   - 倒计时以大字体居中显示
   - 显示"结束录制"按钮

**录制中**：
1. 倒计时从10秒递减
2. 前5秒内"结束录制"按钮禁用，显示提示"录制至少5秒后可手动结束"
3. 5秒后按钮可用，用户可手动结束
4. 倒计时归零自动结束录制

**录制完成**：
1. 显示录制结果卡片：
   - 播放/暂停按钮
   - 文件名（时间戳.wav）
   - 时长显示
   - 删除按钮
2. 点击播放按钮可试听录制内容
3. 点击删除按钮清除录制，返回初始状态

#### 4.2.2 Step 2：输入目标文本

**交互细节**：
1. 文本输入框，最多1000字符
2. 右下角显示：
   - AI生成按钮（带Sparkles图标）
   - 字符计数 `xxx/1000`
3. 点击AI按钮：
   - 随机填充一段预设文本
   - 如果当前文本是预设文本，显示刷新图标表示可换一个
4. 也可手动输入任意文本

#### 4.2.3 复刻音色

**触发条件**：
- 已完成录制（有录制音频）
- 目标文本不为空

**满足条件时**：
- 自动显示"复刻音色"按钮

**点击按钮**：
1. 按钮状态变为"复刻中..."
2. 上传录制音频和文本到服务端
3. 等待克隆处理
4. 完成后：
   - 显示成功提示
   - 底部播放器栏出现
   - 播放器栏显示"保存音色"按钮

#### 4.2.4 保存音色

**触发方式**：点击播放器栏的"保存音色"按钮

**交互细节**：
1. 弹出保存对话框
2. 输入音色名称（1-20个字符）
3. 实时验证：
   - 空名称：显示错误提示
   - 超过20字符：显示错误提示
4. 点击"保存"完成保存
5. 保存后该音色出现在TTS的"我的音色"列表中

---

## 5. 功能模块三：语音编辑(Voice Edit)

### 5.1 功能概述
用户通过录制或选择预设场景获取音频，系统将音频拆分为句子，用户可对每个句子单独编辑风格参数后重新生成。

### 5.2 交互流程

#### 5.2.1 获取原始音频

**方式一：选择预设场景**

**交互细节**：
1. 显示6个预设场景卡片：新闻播报、有声读物、客服助手、广告配音、教育朗读、情感电台
2. 点击卡片：
   - 立即进入下一步（显示句子时间轴）
   - 后台开始生成预设文本的音频
   - 显示生成中状态
3. 生成完成后自动进入编辑模式

**方式二：录制音频**

**交互细节**：
1. 点击"开始录制"按钮
2. 与语音复刻模块类似的录制流程
3. 倒计时30秒（比复刻更长）
4. 录制完成后：
   - 文本自动按标点拆分为句子
   - 进入编辑模式

**方式三：上传音频**

**交互细节**：
1. 点击上传区域或拖拽文件
2. 仅支持音频文件（mp3、wav等）
3. 文件大小限制10MB
4. 上传成功后进入简单播放模式

#### 5.2.2 句子时间轴

**显示位置**：底部播放器栏上方

**交互细节**：
1. **句子卡片列表**（横向滚动）：
   - 每个句子显示为独立卡片
   - 卡片宽度200px，高度48px
   - 显示句子文本（最多2行，超出截断）
   - 背景显示波形图样式

2. **卡片状态**：
   - 默认状态：灰色背景
   - 选中状态：高亮边框
   - 已编辑状态：显示"已编辑"标签
   - 播放中状态：显示播放动画

3. **卡片交互**：
   - 点击选中该句子
   - Hover显示编辑按钮（铅笔图标）
   - 选中状态下也显示编辑按钮

4. **列表滚动**：
   - 左右两端显示滚动箭头
   - 点击箭头滚动300px
   - 无法继续滚动时箭头变灰

5. **操作按钮**（右侧）：
   - "全部编辑"按钮：批量编辑所有句子
   - "删除"按钮：清除音频，返回初始状态

#### 5.2.3 单句编辑

**触发方式**：
- 点击句子卡片上的编辑按钮
- 或Hover后点击铅笔图标

**交互细节**：
1. 弹出编辑模态框（Portal渲染到body）
2. 模态框显示：
   - 标题："编辑句子"
   - 句子文本预览
   - 三类标签选择区

3. **标签选择**：

   **情绪标签**（单选或多选）：
   - 高兴、愤怒、悲伤、幽默、困惑、厌恶、共情、尴尬、恐惧、惊讶、兴奋、沮丧、冷漠、钦佩

   **风格标签**：
   - 严肃、傲慢、儿童、单纯、夸张、少女、御姐、朗诵、甜美、空灵、豪爽、撒娇、温暖、害羞、安慰、权威、闲聊、电台、深情、温柔、磁性、中老年、悄悄话、气泡音、讲故事、绘声绘色、节目主持、新闻播报、广告营销、娱乐八卦、吼叫、小声、大声、低沉、高亢

   **语速标签**：
   - 快速、慢速、更快、更慢

4. **标签交互**：
   - 点击标签切换选中/取消状态
   - 选中标签显示高亮样式
   - 可多选组合

5. **确认/取消**：
   - 点击"确认"开始生成
   - 至少选择一个标签，否则提示错误
   - 点击"取消"关闭模态框

6. **生成过程**：
   - 模态框关闭
   - 对应句子卡片显示"生成中"状态
   - 卡片上显示加载动画
   - 生成完成后卡片显示"已编辑"标签

#### 5.2.4 版本管理

**适用场景**：同一句子多次编辑后有多个版本

**交互细节**：
1. 选中已编辑的句子后，卡片底部显示版本导航
2. 显示格式：`当前版本/总版本数`（如 2/3）
3. 左右箭头切换版本
4. 切换版本后：
   - 播放该版本的音频
   - 清除该句子的缓存，确保播放新版本

#### 5.2.5 批量编辑

**触发方式**：点击"全部编辑"按钮

**交互细节**：
1. 弹出与单句编辑相同的模态框
2. 选择标签后点击确认
3. 依次生成每个句子的编辑音频：
   - 时间轴上方显示进度（如 "3/8"）
   - 当前正在生成的句子显示加载状态
   - 生成完成的句子显示"已编辑"
4. 全部完成后显示成功提示

#### 5.2.6 播放控制

**播放整体音频**：
1. 点击底部播放器的播放按钮
2. 从当前选中句子开始顺序播放
3. 每个句子播放时：
   - 时间轴自动滚动到该句子
   - 该句子卡片高亮显示
   - 如果句子未生成音频，实时生成后播放

**播放单句**：
1. 点击句子卡片
2. 如果正在播放，从该句子开始继续
3. 如果未播放，仅选中不播放

---

## 6. 全局交互规则

### 6.1 Tab切换
- 点击左侧Tab按钮切换功能模块
- 切换时：
  - 停止当前音频播放
  - 隐藏底部播放器栏
  - 清除句子时间轴
  - 重置相关状态

### 6.2 音频播放互斥
- 全局仅允许一个音频同时播放
- 播放新音频时自动停止前一个

### 6.3 错误处理
- API调用失败显示Toast提示
- 额度用完显示特定错误信息
- 麦克风权限拒绝显示引导提示

### 6.4 加载状态
- 所有异步操作显示加载动画
- 加载期间禁用相关操作按钮

---

## 7. 状态流转图

### 7.1 语音复刻状态流转

```
[初始状态] 
    ↓ 点击开始录制
[录制中] → (倒计时10秒或手动结束)
    ↓
[已录制] 
    ↓ 输入目标文本 + 点击复刻
[复刻中]
    ↓ 完成
[已生成] → 可保存音色 / 可播放 / 可下载
    ↓ 点击删除
[初始状态]
```

### 7.2 语音编辑状态流转

```
[初始状态]
    ↓ 选择预设/录制/上传
[音频已加载] → 文本拆分为句子
    ↓ 
[编辑模式] 
    ↓ 点击编辑按钮
[编辑模态框] → 选择标签 → 确认
    ↓
[生成中] → 完成后回到编辑模式
    ↓
[已编辑] → 可切换版本 / 可继续编辑
    ↓ 点击删除
[初始状态]
```

---

## 8. 边界情况处理

### 8.1 文本输入
- 空文本：禁用生成按钮
- 超长文本：自动截断并提示

### 8.2 录制音频
- 麦克风不可用：显示错误提示，无法录制
- 录制时间不足5秒：禁止提前结束

### 8.3 音频生成
- 网络错误：显示重试提示
- 额度不足：显示升级提示
- 生成超时：显示错误，允许重试

### 8.4 文件上传
- 非音频文件：拒绝并提示
- 文件过大（>10MB）：拒绝并提示

---

## 附录：预设文案内容

### TTS预设案例

| 案例 | 标题 | 内容 |
|-----|------|-----|
| 新闻播报 | Step 3发布 | 各位观众朋友们，大家好！欢迎收看今日科技快讯... |
| 有声读物 | 午夜来信 | 午夜时分，老宅的钟声敲响了十二下... |
| 客服助手 | 智能客服 | 您好，欢迎致电阶跃星辰客户服务中心... |
| 广告配音 | 品牌宣传 | 在这个瞬息万变的时代，我们始终相信科技的力量... |
| 教育朗读 | 静夜思 | 床前明月光，疑是地上霜... |
| 情感电台 | 深夜治愈 | 亲爱的听众朋友，欢迎来到星辰夜话... |

### 语音复刻录制文案

- 阳光透过窗帘洒落在地板上，形成金色的光斑。
- 科技的发展日新月异，正在改变我们的生活。
- 中华文化源远流长，承载着深厚的历史底蕴。
- 音乐是一种无国界的语言，能够触动每个人的内心。
- 大自然用四季更迭，绘制出一幅壮丽的画卷。

### 语音编辑录制文案

- 在这个快速发展的时代，科技改变了我们的生活方式，让我们能够更加便捷地与世界各地的人们进行交流和互动。
- 春天的阳光温暖而明媚，万物复苏的季节里，花朵竞相绽放，鸟儿在枝头歌唱，一切都显得生机勃勃。
- 人工智能技术正在深刻地改变着各行各业，从医疗诊断到自动驾驶，它的应用范围越来越广泛，影响着每个人的日常生活。

---

*文档完*
